# La supervision avec Centreon
## 🧩 Définition de la supervision

La supervision informatique regroupe l’ensemble des mécanismes permettant de **surveiller le bon fonctionnement** d’un système ou service.  
Elle repose sur :

- La **prévention d’incidents**
- La **réduction du délai de détection** d’une panne
- La **localisation précise** de la défaillance
- L’**optimisation des performances** (temps de réponse, débit, erreurs…)

### Données traitées

- **Collecte d'informations** (métriques)
- **Contrôle de l’état**
- **Historique** des données (pour analyse)

---

## 🔍 Types de supervision

|Type|Description|
|---|---|
|**Inactif**|Aucune supervision, ou alarmes ignorées|
|**Réactif**|Réaction uniquement après l’incident|
|**Interactif**|Supervision présente, intervention humaine requise|
|**Proactif**|Détection + correction automatisée (si possible)|

---

## ⚙️ Fonctionnalités apportées

- **Audit de performances** (débit, taux d’erreur, latence)
- **Disponibilité** et SLA
- **Évolution de l’infrastructure** (état, historique)
- **Collecte** et **contrôle** de l’état
- **Alerte**, **notification**, **réaction** rapide

### Découpage fonctionnel

1. Observer / découvrir
2. Collecter / stocker
3. Corréler / agréger / consolider
4. Présenter / synthétiser
5. Alerter / réagir

### Points de contrôle

- **Disponibilité** : présence, réactivité d’un composant
- **Performance** : temps de réponse, usage CPU, mémoire…
- **Intégrité** : cohérence fonctionnelle (RAID OK, base OK…)

---

## 🌐 Domaines d’application

|Domaine|Exemples|
|---|---|
|Réseau|Switchs, routeurs, latence, bande passante|
|Matériel|Température, RAID, ventilateurs, onduleurs|
|Système|CPU, RAM, logs, disque|
|Middleware|Services web, bases de données, hyperviseurs|
|Applications|Processus, sockets, services métiers|
|SLA|Connexions simultanées, page OK, latence Web|

---

## 🔎 Supervision active vs passive

### Supervision active

- La plus répandue
- **Le serveur interroge les éléments supervisés** périodiquement
- Appelés **checks actifs**

#### Deux sous-types :

- **Locaux** : CPU serveur, RAM, disque (depuis le superviseur)
- **Distants** : via un agent sur l’élément cible
    - `check_by_ssh`, `check_nrpe`, **SNMP**, **WMI**
    - Permet d’aller au-delà des capacités du superviseur

### Supervision passive

- L’élément superviseur **n’interroge pas**, il **reçoit** les alertes de l’agent supervisé
- Utilise **SNMP trap** ou **NSCA**
- Permet **la remontée temps réel**, mais pas de garantie d’état si silence prolongé

> 💡 Recommandation : utiliser **les deux méthodes** conjointement

---

## ✅ À retenir pour les révisions

- La supervision améliore la **réactivité** face aux pannes et permet une **vision globale** des systèmes
- Une supervision efficace est **proactive** et couvre tous les **niveaux techniques**
- Les **checks actifs** sont interrogatifs, les **passifs** sont événementiels
- **Centreon** ou **Nagios** utilisent ces principes (agents, tests, protocoles)

---

## 📌 Bonnes pratiques professionnelles

- Minimiser l’intrusion : la supervision ne doit pas impacter les performances
- Séparer la supervision du reste de l’infrastructure (VM dédiée, VLAN dédié)
- Activer les **alertes critiques par email/SMS** en cas de service vital (ex : AD, DNS, serveur mail)
- Mettre à jour régulièrement les **commandes de check** (version NRPE, MIB SNMP…)
- Toujours **documenter** les seuils et règles d’alerte