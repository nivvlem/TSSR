# Notifications et actions d‚Äôexploitation (Centreon)
## üîß Actions d‚Äôexploitation dans Centreon

### Acquittement d‚Äôalerte (Acknowledge)

- Permet de **marquer une alerte comme prise en compte**
- D√©sactive les notifications **r√©p√©t√©es** tant que le probl√®me n‚Äôest pas r√©solu
- Peut √™tre accompagn√© d‚Äôun **commentaire** explicatif
- Possibilit√© de propager l‚Äôacquittement **d‚Äôun h√¥te √† tous ses services**
- L‚Äôobjet concern√© devient **jaune** (√©tat acquitt√©)

### Downtime (temps d‚Äôarr√™t planifi√©)

- Suspend la supervision temporairement pour **maintenance planifi√©e**
- Types :
    - **Fixe** : dates/heures de d√©but et fin pr√©cises
    - **Glissant** : commence au moment du passage √† un √©tat non-OK, dure X minutes
- Notifications d√©sactiv√©es pendant le downtime

### Contr√¥le imm√©diat (Check Now)

- Permet de relancer un check sur un h√¥te ou service
- **Forc√©** = s'ex√©cute imm√©diatement, m√™me hors p√©riode de v√©rification
- Utile apr√®s un changement ou un red√©marrage de service

---

## üì£ Notifications

### Principe

- Envoyer une **alerte cibl√©e** √† la bonne personne, au bon moment, avec la bonne m√©thode
- Se d√©clenche au **passage en √©tat HARD** (par d√©faut, apr√®s 3 tentatives)

### Composants en jeu

- **Contacts** et **groupes de contacts**
- **Commandes de notification** (ex : `host-notify-by-email`)
- **P√©riodes de notification**
- **Statuts concern√©s** : WARNING, CRITICAL, UNKNOWN, RECOVERY

### Fr√©quence

- Une notification peut √™tre envoy√©e **une seule fois**, ou √† **intervalle r√©gulier** jusqu‚Äô√† acquittement


### M√©thodes d'envoi

- Email (par d√©faut)
- SMS (ex: via script + API)
- Syslog, webhook, appel t√©l√©phonique (personnalisables)

---

## üåê Gestion avanc√©e ‚Äì Relations entre h√¥tes (parents / enfants)

### Objectif

- √âviter une **cascade de notifications** inutiles en cas de panne r√©seau

### Fonctionnement

- Si un h√¥te **parent** est DOWN, les **enfants** passent en UNREACHABLE
- Seul le parent est notifi√©, sauf configuration explicite

### Utilisation

- D√©clarer les liens dans la configuration Centreon :
    - `Configuration > Hosts > Parent relationships`
- Permet de mod√©liser les **SPOF** (Single Point Of Failure)

---

## üìà Workflow de notification ‚Äì √âtapes cl√©s

1. **Un service change d‚Äô√©tat SOFT** ‚Üí attente d‚Äôun certain nombre de tentatives
2. Passage en **√©tat HARD** ‚Üí le moteur v√©rifie :
    - Notifications activ√©es pour ce service ?
    - Est-il dans une p√©riode de downtime ?
    - La p√©riode de notification est-elle valable ?
    - Le statut actuel est-il couvert par les alertes ?
3. Liste des **contacts notifi√©s** ‚Üí pour chaque :
    - Notifications activ√©es ?
    - P√©riode de notification correcte ?
    - Le contact g√®re-t-il ce type de statut ?
4. Ex√©cution de la **commande de notification** (email, SMS‚Ä¶)

---

## ‚úÖ √Ä retenir pour les r√©visions

- L‚Äô**acquittement** bloque les notifications r√©p√©t√©es et informe les √©quipes
- Le **downtime** suspend la supervision (fixe ou glissant)
- Les **relations parent/enfant** √©vitent les notifications en cascade
- Le **workflow de notification** est s√©quentiel et conditionnel
- Toute notification repose sur une **commande**, des **contacts**, une **p√©riode** et un **statut**

---

## üìå Bonnes pratiques professionnelles

- Acquitter **syst√©matiquement** chaque alerte analys√©e
- Planifier des **downtimes glissants** pour les maintenances incertaines
- Maintenir une **base de contacts claire**, avec p√©riodes et r√¥les bien d√©finis
- Cr√©er des **mod√®les de notification** dans les templates h√¥te/service
- Documenter et tester chaque **commande de notification**
- Utiliser des **scripts de tests d‚Äôalerte** pour valider la cha√Æne (email, SMS‚Ä¶)